{% extends 'base.html' %}

{%load static %}
{% block content %}
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <p>
            <form action="/artical/" method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              Title: <input type="text" name="title" required='required'><br><br>
              Property_pic : <input type="file" name="property_pic" required='required' ><br><br>
              Description: <textarea name="description"></textarea><br><br>
              address: <input type="text" name="address" ><br><br>
              price: <input type="text" name="price" ><br><br>
              sqft : <input type="text" name="sqft"><br><br>
              <input type="submit">
    		    </form>
          </p>
        </div>
        <!--<div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>-->
      </div>
    </div>
  </div>
  <div class="album py-5 bg-light">
        <div class="container">
          <h2>Welcome, {{ user.username }} !   { <small>{{ user.profile.role }}</small>}</h2><br>
          <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal">POST NEW PROPERTY</button><br><br>
          <div class="row">
            {% for property in properties %}
              <a href="/artical/{{property.id}}/">
              <div class="col-md-3 ">
                <div class="card mb-3 box-shadow">
                  <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" style="height: 225px; width: 100%; display: block;" src="{{property.property_pic.url}}" data-holder-rendered="true"></a>
                  <div class="card-body">
                    <p class="card-text"> {{property.description}} </p>
                    <div class="d-flex justify-content-between align-items-center">
                      {# <a href="{% url 'delete_property' property.id %}"><b>Delete picture</b></a><br> #}
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
  </div>
  
{% endblock %}